<!DOCTYPE html>
<html lang="en">
  <head>
    <title>WebSocket Demo</title>
    <script>
      const ws = new WebSocket('ws://localhost:3001');
      ws.onopen = () => {
        console.log('ws open');
        ws.send('Hello from client!');
      };
      ws.onmessage = event => {
        console.log(`received "${event.data}"`);

        // Either the client or the server can close the connection.
        ws.send('stop'); // ask server to close the WebSocket
        // ws.close(); // close WebSocket from client
      };
      ws.onerror = error => {
        console.log('ws error:', error);
      };
      ws.onclose = () => {
        console.log('ws closed');
      };
    </script>
  </head>
  <body>
    <h1>WebSockets Demo</h1>
    <p>See output in DevTools Console.</p>
  </body>
</html>
